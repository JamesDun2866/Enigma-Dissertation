<!DOCTYPE html>
<html class="no-js" lang="en">

<head>
  <meta charset="utf-8">
  <title>Dissertation: Enigma</title><!-- Website Title  -->
  <link rel="stylesheet" href="css/main.css"><!-- CSS Link  -->
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>

<body>
  <header id="main-header">
    <div class="row">
      <nav id="nav-wrap">
        <ul id="nav" class="nav">
          <li><a href="index.html">Enigma 1.</a></li><!-- Enigma  -->
          <li><a href="fourdial.html">Enigma M3 Kriegsmarine.</a></li><!-- M3 Enigma  -->
          <li><a href="ImprovedEnigma.html">Improved Enigma.</a></li> <!-- Improved Enigma  -->
          <li><a href="Cribbing.html">Cribbing (Bombe Basics).</a></li><!-- Cribbing -->
          <li><a href="Morse.html">Morse Code.</a></li><!-- Morse Code -->
          <li><a href="hashing.html">Hashing.</a></li><!-- Hashing  -->
          <li><a href="AES.html">AES 256.</a></li><!-- AES 256  -->
        </ul>
      </nav>
    </div>
  </header>

  <section id="services">

    <label class="label3">Plaintext</label>
    <br>
    <textarea id="plainText"></textarea><!-- plaintext input  -->
    <br>
    <br>
    <label class="label3">Ciphertext</label>
    <br>
    <textarea id="cipherText"></textarea><!-- cipherText input  -->

    <br>
    <br>
    <div class="Center">
      <button class="button2" onclick="Crib()" type="button" name="Crib">CRIB</button> <!-- Button that on click calls the crib function -->
    </div>
    <div class="Center">
      <button type="button" onclick="reset()" class="button2">Reset</button>
    </div>
    <script>
      function reset() {
        location.reload();
      }
    </script>
    <div class="Center">
      <label id="result">Result: </label> <!-- Where the result is printed  -->
    </div>

  </section>
  <script type="text/javascript">
    function Crib() {
      cipher = cipherText.value; //get the value of the cipherText
      cipherarr = new Array(...cipher); //turn the cipherText into a char array

      plain = plainText.value; // get the value of the plaintext
      plainarr = new Array(...plain); //turn the plaintext into an array
      f = 0; // set f to 0
      for (i = 0; i < cipherarr.length; i++) { //for each character in the cipherText
        if (cipherarr[i] !== plainarr[i]) { //if ciphetext does not  match the plaintext increment f
          f++;
        }
      }
      if (f === plainarr.length) { // if f is the same length as the plaintext then all characters are different and thats a valid crib
        document.getElementById('result').innerHTML = 'Result: No Letters Match (Vaible Settings)';
      } else { //if f is not the same then its an invalid crib
        document.getElementById('result').innerHTML = 'Result: Letters Match (Invalid Settings)';
      }
    }
  </script>

  <script src="js/jquery-1.11.3.min.js"></script>
  <script src="js/main.js"></script>

</body>

</html>